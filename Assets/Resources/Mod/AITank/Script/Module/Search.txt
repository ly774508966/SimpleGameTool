local BaseModule = require 'Mod.AITank.Script.Base.BaseModule'
local module = Class("Search", BaseModule)

local TIME = 7
local i = 0
function module:ctor()
	BaseModule.ctor(self)

	self.type = ModuleType.Help
	self.name = "Search"
	self.info = "TTTTTTTTT --- "
	self.lastTime = 0
	self.x = 0
	self.y = 0
	self.searchType = 0
	i = i + 1
end

function module:copy()
	return module.new()
end

function module:update()
	if not self.enable then
		return
	end

	local searchType = self.searchType
	if Time.time - self.lastTime < TIME then
		return
	end

	self.lastTime = Time.time
	if searchType == 0 then
		self.x = self.x + 2
	elseif searchType == 1 then
		self.y = self.y - 2
	elseif searchType == 2 then
		self.x = self.x - 3
	elseif searchType == 3 then
		self.y = self.y + 3
	end
	self.parent.animator:move(self.x, self.y)

	self.searchType = searchType + 1
	if self.searchType >= 4 then
		self.searchType = 0
	end
end

return module